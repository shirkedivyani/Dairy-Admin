import{b as s,j as t,a as o,r as a,g as p}from"./vendor.2cd1dd4a.js";import{i as g}from"./lib.9f9f3aed.js";function x(l){const[m,f]=s.exports.useState(localStorage.getItem("auth_token")),[e,i]=s.exports.useState({customername:"",lit:"",amount:"",milk_type:"",is_paid:""});s.exports.useEffect(()=>{l.isEditOpen&&i({customername:l.selectedRow.customername,lit:l.selectedRow.lit,amount:l.selectedRow.amount,milk_type:l.selectedRow.milk_type,is_paid:l.selectedRow.is_paid})},[l.isEditOpen]);const r=()=>{i({customername:"",lit:"",amount:"",milk_type:"",is_paid:""}),l.setIsEditOpen(!1)},c=n=>{i({...e,[n.target.name]:n.target.value})},d=n=>{i({...e,milk_type:n})},u=n=>{i({...e,is_paid:n})},h=()=>{e.customername?e.lit?e.amount?p.put(`http://localhost:8000/api/sales/${l.selectedRow.id}`,{customername:e.customername,milk_type:e.milk_type,lit:e.lit,amount:e.amount,is_paid:e.is_paid},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}}).then(n=>{n.status===200&&(l.refreshTable(),alert("Sales Record updated"),r())}).catch(n=>{alert("Please try again")}):alert("Please enter amount"):alert("Please enter liter"):alert("Please enter customername")};return t(s.exports.Fragment,{children:o(a.Dialog,{size:g?"xxl":"md",className:"overflow-scroll z-40",open:l.isEditOpen,handler:r,children:[t(a.DialogHeader,{className:"bg-gray-100 text-center",children:"Update Sales Record"}),t(a.DialogBody,{divider:!0,children:o("div",{className:"flex flex-col gap-3 w-full",children:[t(a.Input,{label:"Customer Name *",name:"customername",value:e.customername,onChange:c}),o(a.Select,{label:"Select Milk Type *",name:"milk_type",value:e.milk_type,onChange:d,children:[t(a.Option,{value:"Cow",children:"Cow"}),t(a.Option,{value:"Buffalo",children:"Buffalo"})]}),t(a.Input,{label:"lit *",name:"lit",value:e.lit,onChange:c}),t(a.Input,{label:"Amount *",name:"amount",value:e.amount,onChange:c}),o(a.Select,{label:"Is Paid *",name:"is_paid",value:e.is_paid,onChange:u,children:[t(a.Option,{value:"Yes",children:"Yes"}),t(a.Option,{value:"No",children:"No"})]})]})}),o(a.DialogFooter,{className:"bg-gray-100",children:[t(a.Button,{variant:"text",color:"red",onClick:r,className:"mr-1",children:t("span",{children:"Cancel"})}),t(a.Button,{variant:"gradient",color:"green",onClick:h,children:t("span",{children:"Update"})})]})]})})}export{x as default};
