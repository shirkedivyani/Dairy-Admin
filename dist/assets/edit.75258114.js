import{b as i,j as a,a as d,r as l,g as u}from"./vendor.2cd1dd4a.js";import{i as g}from"./lib.9f9f3aed.js";function f(t){const[m,h]=i.exports.useState(localStorage.getItem("auth_token")),[e,r]=i.exports.useState({name:"",mobile:"",email:"",pan:"",address:""});i.exports.useEffect(()=>{t.isEditOpen&&r({name:t.selectedRow.name,mobile:t.selectedRow.mobile,email:t.selectedRow.email,pan:t.selectedRow.pan,address:t.selectedRow.address})},[t.isEditOpen]);const o=()=>{r({name:"",mobile:"",email:"",pan:"",address:""}),t.setIsEditOpen(!1)},n=s=>{r({...e,[s.target.name]:s.target.value})},c=()=>{e.name?e.mobile?e.email?e.pan?e.address?u.put(`http://localhost:8000/api/customers/${t.selectedRow.id}`,{name:e.name,mobile:e.mobile,email:e.email,pan:e.pan,address:e.address},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}}).then(s=>{s.status===200&&(t.refreshTable(),alert("Customer updated"),o())}).catch(s=>{alert("Please try again")}):alert("Please enter address "):alert("Please enter pan no."):alert("Please enter email id"):alert("Please enter mobile"):alert("Please enter name")};return a(i.exports.Fragment,{children:d(l.Dialog,{size:g?"xxl":"md",className:"overflow-scroll z-40",open:t.isEditOpen,handler:o,children:[a(l.DialogHeader,{className:"bg-gray-100 text-center",children:"Update Customer"}),a(l.DialogBody,{divider:!0,children:d("div",{className:"flex flex-col gap-3 w-full",children:[a(l.Input,{label:"Name *",name:"name",value:e.name,onChange:n}),a(l.Input,{type:"number",label:"mobile *",name:"mobile",value:e.mobile,onChange:n}),a(l.Input,{type:"string",label:"email *",name:"email",value:e.email,onChange:n}),a(l.Input,{type:"string",label:"pan*",name:"pan",value:e.pan,onChange:n}),a(l.Input,{type:"string",label:"address*",name:"address",value:e.address,onChange:n})]})}),d(l.DialogFooter,{className:"bg-gray-100",children:[a(l.Button,{variant:"text",color:"red",onClick:o,className:"mr-1",children:a("span",{children:"Cancel"})}),a(l.Button,{variant:"gradient",color:"green",onClick:c,children:a("span",{children:"Update"})})]})]})})}export{f as default};
