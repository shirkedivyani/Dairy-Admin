import{b as m,j as a,a as n,r as t,g as h}from"./vendor.2cd1dd4a.js";import{i as p}from"./lib.9f9f3aed.js";function C(o){const[c,g]=m.exports.useState(localStorage.getItem("auth_token")),[e,r]=m.exports.useState({customername:"",lit:"",amount:"",milk_type:""}),s=()=>{r({customername:"",lit:"",amount:"",milk_type:""}),o.setIsAddOpen(!1)},i=l=>{r({...e,[l.target.name]:l.target.value})},u=l=>{r({...e,milk_type:l})},d=()=>{e.customername?e.lit?e.amount?h.post("http://localhost:8000/api/sales",{customername:e.customername,milk_type:e.milk_type,lit:e.lit,amount:e.amount,is_paid:"No"},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then(l=>{l.status===200&&(o.refreshTable(),alert("Sales Record added"),s())}).catch(l=>{alert("Please try again")}):alert("Please enter amount"):alert("Please enter liter"):alert("Please enter customername")};return a(m.exports.Fragment,{children:n(t.Dialog,{size:p?"xxl":"md",className:"overflow-scroll z-40",open:o.isAddOpen,handler:s,children:[a(t.DialogHeader,{className:"bg-gray-100 text-center",children:"Add Customer"}),a(t.DialogBody,{divider:!0,children:n("div",{className:"flex flex-col gap-3 w-full",children:[a(t.Input,{label:"Customer Name *",name:"customername",value:e.customername,onChange:i}),n(t.Select,{label:"Select Milk Type *",name:"milk_type",value:e.milk_type,onChange:u,children:[a(t.Option,{value:"Cow",children:"Cow"}),a(t.Option,{value:"Buffalo",children:"Buffalo"})]}),a(t.Input,{label:"Total Lit *",name:"lit",value:e.lit,onChange:i}),a(t.Input,{label:"Amount *",name:"amount",value:e.amount,onChange:i})]})}),n(t.DialogFooter,{className:"bg-gray-100",children:[a(t.Button,{variant:"text",color:"red",onClick:s,className:"mr-1",children:a("span",{children:"Cancel"})}),a(t.Button,{variant:"gradient",color:"green",onClick:d,children:a("span",{children:"Add"})})]})]})})}export{C as default};
